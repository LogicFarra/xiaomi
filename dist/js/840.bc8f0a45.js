"use strict";(self["webpackChunkxiaomi"]=self["webpackChunkxiaomi"]||[]).push([[840],{6840:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_box"},[t("div",{staticClass:"header"},[t("font",{staticClass:"cur"},[e._v("登录")]),t("font",{on:{click:e.registerClick}},[e._v("注册")]),t("div",{staticClass:"bottom_line"})],1),t("main",[t("div",{staticClass:"container"},[t("div",{staticClass:"info"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.account,expression:"userInfo.account"}],attrs:{type:"text",placeholder:"邮箱/手机号码/小米ID",maxlength:"10"},domProps:{value:e.userInfo.account},on:{blur:e.accountCheck,input:function(t){t.target.composing||e.$set(e.userInfo,"account",t.target.value)}}}),t("transition",[t("p",{directives:[{name:"show",rawName:"v-show",value:e.accountNotis,expression:"accountNotis"}],staticClass:"notis"},[e._v(" * 账号应为0-10位的英文或数字 ")])]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],attrs:{type:"password",placeholder:"密码",maxlength:"6"},domProps:{value:e.userInfo.password},on:{blur:e.passCheck,input:function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value)}}}),t("transition",[t("p",{directives:[{name:"show",rawName:"v-show",value:e.passNotis,expression:"passNotis"}],staticClass:"notis"},[e._v("* 密码应为0-6位的英文或数字")])]),t("transition",[t("p",{directives:[{name:"show",rawName:"v-show",value:e.errorNotis,expression:"errorNotis"}],staticClass:"notis"},[e._v("用户名或密码不正确")])])],1),t("div",{staticClass:"message"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.agree,expression:"agree"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.agree)?e._i(e.agree,null)>-1:e.agree},on:{change:function(t){var r=e.agree,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,u=e._i(r,n);s.checked?u<0&&(e.agree=r.concat([n])):u>-1&&(e.agree=r.slice(0,u).concat(r.slice(u+1)))}else e.agree=a}}}),e._m(0),t("div",{directives:[{name:"show",rawName:"v-show",value:e.warning,expression:"warning"}],staticClass:"warning"},[t("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}}),t("span",[e._v("请您同意用户条款")])])]),t("button",{style:{background:e.bgcolor,color:e.color},on:{click:e.btnClick}},[e._v(" 登录 ")]),e._m(1),t("p",{staticClass:"other"},[e._v("其他方式登录")]),e._m(2)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSucceed,expression:"showSucceed"}],staticClass:"succeed"},[e._v("登录成功")])])},a=[function(){var e=this,t=e._self._c;return t("p",[e._v(" 已阅读并同意小米账号 "),t("a",{attrs:{href:"javascript:;"}},[e._v("用户协议")]),e._v(" 和 "),t("a",{attrs:{href:"javascript:;"}},[e._v(" 隐私政策 ")])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"forget"},[t("a",{attrs:{href:"javascript:;"}},[e._v("忘记密码?")]),t("a",{attrs:{href:"javascript:;"}},[e._v("手机号登录")])])},function(){var e=this,t=e._self._c;return t("ul",{staticClass:"other_login"},[t("li",[t("i",{staticClass:"fa fa-apple",attrs:{"aria-hidden":"true"}})]),t("li",[t("i",{staticClass:"fa fa-weixin",attrs:{"aria-hidden":"true"}})]),t("li",[t("i",{staticClass:"fa fa-qq",attrs:{"aria-hidden":"true"}})]),t("li",[t("i",{staticClass:"fa fa-weibo",attrs:{"aria-hidden":"true"}})])])}],n=r(586),u={name:"loginBox",data(){return{accountNotis:!1,passNotis:!1,agree:!1,warning:!1,errorNotis:!1,showSucceed:!1,userInfo:{account:"",password:""}}},methods:{registerClick(){this.$router.push("/login/register")},accountCheck(e){let t=e.target.value.replace(/[\W]/g,"");t===e.target.value?this.accountNotis=!1:this.accountNotis=!0},passCheck(e){let t=e.target.value.replace(/[\W]/g,"");t===e.target.value?this.passNotis=!1:this.passNotis=!0},btnClick(){if("#ff6700"!==this.bgcolor)return!1;!1===this.agree?(this.warning=!0,setTimeout((()=>{this.warning=!1}),2e3)):this.searchInfo(this.userInfo.account)},async searchInfo(e){let{data:t}=await(0,n.DX)(e);0===t.length||t[0].password!==this.userInfo.password?(this.errorNotis=!0,setTimeout((()=>{this.errorNotis=!1}),3e3)):t[0].password===this.userInfo.password&&(this.showSucceed=!0,this.$store.dispatch("setToken"),setTimeout((()=>{sessionStorage.setItem("logeed",!0),this.showSucceed=!1,this.$router.push("/shop")}),2e3))}},computed:{bgcolor(){return""!==this.userInfo.account&&""!==this.userInfo.password?"#ff6700":"#ff6600a8"},color(){return"#ff6700"===this.bgcolor?"white":"rgba(255, 255, 255, 0.525)"}}},o=u,i=r(1001),c=(0,i.Z)(o,s,a,!1,null,"c16251f6",null),l=c.exports},586:function(e,t,r){r.d(t,{os:function(){return R},CC:function(){return E},s2:function(){return O},Ke:function(){return Z},rk:function(){return W},WS:function(){return B},DX:function(){return $},Dx:function(){return y},pf:function(){return S},cV:function(){return m},W3:function(){return N},pG:function(){return v},HD:function(){return P},q$:function(){return T},Ru:function(){return D},yI:function(){return i},ys:function(){return w},_k:function(){return q},Zj:function(){return G},T8:function(){return H},k9:function(){return _},SH:function(){return f},hJ:function(){return j},Ee:function(){return l},Xs:function(){return k},eT:function(){return h},UE:function(){return I},sn:function(){return A},CN:function(){return c},hd:function(){return b},hj:function(){return C},fS:function(){return g},Z7:function(){return x},Sm:function(){return d},Nd:function(){return p},S6:function(){return U},xx:function(){return L},iD:function(){return X}});var s=r(7467),a=r.n(s);const n="http://localhost:3000",u=a().create({baseURL:n});var o=u;const i=()=>o.request({url:"/header_nav"}),c=()=>o.request({url:"/shuffling_figure"}),l=()=>o.request({url:"/product_nav"}),f=()=>o.request({url:"/product_aside_nav"}),h=()=>o.request({url:"/search_keywords"}),d=()=>o.request({url:"/web_channel"}),p=()=>o.request({url:"/web_channel_publicity_imgs"}),v=()=>o.request({url:"/domestic_appliance"}),_=()=>o.request({url:"/mobile_phone"}),g=()=>o.request({url:"/technology_wear"}),m=()=>o.request({url:"/computer_ipad"}),w=()=>o.request({url:"/home_appliances"}),q=()=>o.request({url:"/kitchen_appliances"}),C=()=>o.request({url:"/technology_home"}),b=()=>o.request({url:"/sport"}),N=()=>o.request({url:"/daily_necessities"}),k=()=>o.request({url:"/public_imgs"}),x=()=>o.request({url:"/video_cover"}),y=()=>o.request({url:"/after_sale"}),I=()=>o.request({url:"/service"}),S=()=>o.request({url:"/call_us"}),T=()=>o.request({url:"/footer_nav"}),D=()=>o.request({url:"/footer_sites"}),P=()=>o.request({url:"/footer_gifs"}),j=e=>o.request({url:"/all_products?product="+e}),$=e=>o.request({url:"/user_database",params:{account:e}}),E=({id:e,account:t,password:r})=>o.request({method:"POST",url:"/user_database",data:{id:e,account:t,password:r}}),A=()=>o.request({url:"shop_car"}),W=e=>o.request({method:"DELETE",url:"shop_car/"+e}),L=({product:e,disposition:t,version:r,color:s})=>o.request({url:"shop_car",params:{product:e,disposition:t,version:r,color:s}}),O=e=>o.request({url:"shop_car",method:"POST",data:e}),U=e=>o.request({url:"search_database?type="+e}),X=()=>o.request({url:"userNav"}),Z=()=>o.request({url:"changeNewImg"}),H=()=>o.request({url:"citys"}),R=e=>o.request({url:"citys",method:"POST",data:e}),B=(e,t)=>o.request({url:"citys/"+e,method:"PUT",data:t}),G=()=>o.request({url:"youLike"})}}]);
//# sourceMappingURL=840.bc8f0a45.js.map