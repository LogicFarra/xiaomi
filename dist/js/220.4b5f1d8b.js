"use strict";(self["webpackChunkxiaomi"]=self["webpackChunkxiaomi"]||[]).push([[220],{4138:function(t,s,i){i.d(s,{Z:function(){return d}});var o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[t._l(t.citys,(function(i){return s("div",{key:i.id,staticClass:"citys add",class:{cur:i.index==t.index},on:{click:function(s){return t.chose(i.index)}}},[s("p",[t._v(" "+t._s(i.name)),s("span",[t._v(t._s(i.label))])]),s("p",[t._v(t._s(i.phone))]),s("p",[t._v(t._s(i.location))]),s("p",[t._v(t._s(i.detailLocation))]),s("p",{on:{click:function(s){return t.edit(i)}}},[t._v("修改")])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:""===t.showMore||"up"===t.showMore,expression:"showMore === '' || showMore === 'up'"}],staticClass:"add",on:{click:function(s){t.showDrop=!0}}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}}),s("p",[t._v("添加新地址")])])],2),s("div",{directives:[{name:"show",rawName:"v-show",value:"down"===t.showMore,expression:"showMore === 'down'"}],staticClass:"showMore",on:{click:function(s){return t.showMoreLocation("down")}}},[t._v(" 显示更多地址 "),s("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:"up"===t.showMore,expression:"showMore === 'up'"}],staticClass:"showMore",on:{click:function(s){return t.showMoreLocation("up")}}},[t._v(" 收起更多地址 "),s("i",{staticClass:"fa fa-chevron-up",attrs:{"aria-hidden":"true"}})])]),s("transition",[t.showDrop?s("div",{staticClass:"dropdown"},[s("div",{staticClass:"dropdownContainer"},[s("div",{staticClass:"header"},[t._v(" 添加收货地址 "),s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(s){t.showDrop=!1}}})]),s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.name,expression:"info.name"}],staticClass:"small",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.info.name},on:{input:function(s){s.target.composing||t.$set(t.info,"name",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.phone,expression:"info.phone"}],staticClass:"small",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.info.phone},on:{input:function(s){s.target.composing||t.$set(t.info,"phone",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.location,expression:"info.location"}],attrs:{type:"text",placeholder:"省/市/区/街道"},domProps:{value:t.info.location},on:{input:function(s){s.target.composing||t.$set(t.info,"location",s.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.info.detailLocation,expression:"info.detailLocation"}],attrs:{cols:"30",rows:"3",placeholder:"详细地址"},domProps:{value:t.info.detailLocation},on:{input:function(s){s.target.composing||t.$set(t.info,"detailLocation",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.label,expression:"info.label"}],attrs:{type:"text",placeholder:"地址标签"},domProps:{value:t.info.label},on:{input:function(s){s.target.composing||t.$set(t.info,"label",s.target.value)}}})]),s("div",{staticClass:"footer"},[s("button",{on:{click:t.add}},[t._v("确定")]),s("button",{on:{click:t.closeDrop}},[t._v("取消")])])])]):t._e()])],1)},e=[],a=i(586),n={name:"locationCom",data(){return{showDrop:!1,showMore:"up",info:{name:"",phone:"",location:"",detailLocation:"",label:""},citys:[],citysData:[],index:Number,editStatus:!1}},methods:{async add(){for(let t in this.info)if(!this.info[t])return;!1===this.editStatus?await(0,a.os)(this.info):(await(0,a.WS)(this.info.id,this.info),this.editStatus=!1),this.showDrop=!1,this.getLocations();for(let t in this.info)this.info[t]=""},async getLocations(){const{data:t}=await(0,a.T8)();for(let s=0;s<t.length;s++)t[s].index=s;this.citysData=t.reverse(),t.length>3?(this.citys=t.slice(0,4),this.showMore="down"):(this.citys=t.reverse(),this.showMore="")},showMoreLocation(t){"down"===t?(this.citys=this.citysData,this.showMore="up"):(this.citys=this.citysData.slice(0,4),this.showMore="down")},chose(t){this.index=t;let s=this.citysData.find((s=>s.index===t));this.$emit("sendLoc",s)},edit(t){this.info=t,this.showDrop=!0,this.editStatus=!0},closeDrop(){this.showDrop=!1,this.info={name:"",phone:"",location:"",detailLocation:"",label:""}}},created(){this.getLocations()}},c=n,r=i(1001),l=(0,r.Z)(c,o,e,!1,null,"292a3dc7",null),d=l.exports},5945:function(t,s,i){i.r(s),i.d(s,{default:function(){return v}});var o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main"},[s("header",[s("div",{staticClass:"header_container"},[t._m(0),s("div",{staticClass:"right"},[t._m(1),s("div",{staticClass:"line"}),s("router-link",{staticClass:"a",attrs:{to:"/shop/user/order"}},[t._v("我的订单")])],1)])]),s("main",[s("div",{staticClass:"container"},[s("p",{staticClass:"title"},[t._v("收货地址")]),s("Location",{ref:"loc"}),s("p",{staticClass:"title"},[t._v("商品及优惠券")]),s("ul",t._l(t.products,(function(i){return s("li",{key:i.id},[s("img",{attrs:{src:i.img}}),s("p",{staticClass:"product"},[s("span",[t._v(t._s(i.product))]),s("span",[t._v(t._s(i.version))]),s("span",[t._v(t._s(i.disposition))]),s("span",[t._v(t._s(i.color))])]),s("p",{staticClass:"num"},[t._v(t._s(i.price)+"元 X "+t._s(i.count))]),s("p",{staticClass:"totle"},[t._v(t._s(i.price*i.count)+"元")])])})),0),t._m(2),s("div",{staticClass:"selttlement"},[s("div",{staticClass:"inner"},[s("p",[t._v(" 商品件数:"),s("span",[t._v(t._s(t.count)+"件")])]),s("p",[t._v(" 商品总价:"),s("span",[t._v(t._s(t.totlePrice)+"元")])]),s("p",[t._v(" 运费:"),s("span",[t._v(t._s(t.deliveryPrice)+"元")])]),s("p",{staticClass:"money"},[t._v(" 应付总额:"),s("span",[s("strong",[t._v(t._s(t.totlePrice))]),t._v("元")])])])]),s("div",{staticClass:"buttons"},[s("div",{staticClass:"loc"},[s("p",[s("span",[t._v(t._s(t.loc.name))]),s("span",[t._v(t._s(t.loc.phone))])]),s("p",[s("span",[t._v(t._s(t.loc.location))]),s("span",[t._v(t._s(t.loc.detailLocation))])])]),s("div",[s("button",{on:{click:function(s){return t.$router.back()}}},[t._v("返回购物车")]),s("button",{on:{click:t.sub}},[t._v("立即下单")])])])],1)]),s("FooterCom")],1)},e=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"left"},[s("img",{attrs:{src:i(9067),alt:""}}),s("h2",[t._v("确认订单")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"user"},[s("span",[t._v("Logic")]),s("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}}),s("ul",[s("li",[t._v("个人中心")]),s("li",[t._v("评价晒单")]),s("li",[t._v("我的喜欢")]),s("li",[t._v("小米账户")]),s("li",[t._v("退出登录")])])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"delivery"},[t._v(" 配送方式 "),s("span",{staticStyle:{"font-size":"14px",color:"#ff6700","margin-left":"20px"}},[t._v("包邮")])])}],a=i(4138),n=i(5180),c={name:"checkout",components:{Location:a.Z,FooterCom:n.Z},data(){return{products:[],count:0,totlePrice:0,deliveryPrice:0,loc:{}}},methods:{sub(){this.loc.name&&(this.$router.push({name:"confirm",params:{location:this.loc,price:this.totlePrice}}),sessionStorage.setItem("order",JSON.stringify(this.loc)),sessionStorage.setItem("price",JSON.stringify(this.totlePrice)))}},created(){this.products=JSON.parse(sessionStorage.getItem("products")),this.products.forEach((t=>{this.count+=t.count,this.totlePrice+=t.count*t.price}))},mounted(){this.$refs.loc.$on("sendLoc",(t=>this.loc=t))}},r=c,l=i(1001),d=(0,l.Z)(r,o,e,!1,null,"21355823",null),v=d.exports},9067:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAA3NCSVQICAjb4U/gAAABiVBMVEX/////agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD//////fz//Pn/+/f/+fX/9/L/9e3/9e//8un/8+v/8OX/69//5tf/5dX/5NP/48//4c7/4M3/4Mn/3sn/3cf/28T/173/1bz/1br/1bf/07X/0rj/0bH/0bT/z7P/zq//zaz/zKn/y6n/yqb/yaf/yKX/xZ3/xJv/w5n/wZf/v5X/vpH/vZH/u4//t4r/tIX/s4P/sX//sH3/rXv/rHb/qHH/p3D/o2n/omf/oWT/n2L/nmD/nl//nV3/nFv/m1j/mlf/llD/kkz/k0j/kk7/kUr/kUb/j0f/jUT/jUP/iz3/iUL/iTn/iDf/hzr/hTT/hTb/gzH/gzj/gC3/gS//gCr/fij/fCj/eyP/eiT/eST/eCH/dxz/diD/dRz/cxX/cxn/cBH/bxn/bxD/bAz/bQn/agD/aQf/aQn/ZgD/ZgT/ZQX/ZQb/YgD/YgP/YAD/XgD/XAD/WgD/UwDc4NsiAAAAg3RSTlMAESIzRFVmd4iZqrvM3e7//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////z6LJ9sAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAXdEVYdENyZWF0aW9uIFRpbWUAMjAyMS4zLjMx1VlJWAAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAdoSURBVHic7Z35e9REGMeb+5xsQbFKBZWCihcC2haoini1eN+3olIVvKpYDRqT1b/cpOnuJpkk+2YyuzPv8/T7W5807fvJvO/MO/fCAi8pqqbrhmnZjuv5PgmCYHes9Afi+57r2JZp6LqmKtz+bV8pmm7kNhNSNrpJGQwhOY2Rsoiz3LAcjwAsnsJDPMcytLkWiaKZjt/b8gqH75jzodAsl/C1fSLiWtpMjVcMZ2bGjyEcY0YFoRguZ7dpUuDOgEGzZ/7tiyI2X1/SvXla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"}}]);
//# sourceMappingURL=220.4b5f1d8b.js.map