{"version":3,"file":"js/327.f7c30d40.js","mappings":"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","sources":["webpack://xiaomi/./src/components/youLike/index.vue","webpack://xiaomi/src/components/youLike/index.vue","webpack://xiaomi/./src/components/youLike/index.vue?f485","webpack://xiaomi/./src/components/youLike/index.vue?6a73","webpack://xiaomi/./src/views/search/index.vue","webpack://xiaomi/src/views/search/index.vue","webpack://xiaomi/./src/views/search/index.vue?e0e8","webpack://xiaomi/./src/views/search/index.vue?7f48","webpack://xiaomi/./src/utils/request.js","webpack://xiaomi/./src/api/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"main_container\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('ul',{style:(_vm.a)},_vm._l((_vm.allData),function(item){return _c('li',{key:item.index},[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addSuccess && _vm.index == item.index),expression:\"addSuccess && index == item.index\"}],staticClass:\"drop\"},[_vm._v(\" 成功添加购物车 \")])]),_c('img',{attrs:{\"src\":item.img}}),_c('p',{staticClass:\"product\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"price\"},[_vm._v(_vm._s(item.price))]),_c('p',{staticClass:\"recommend\"},[_vm._v(_vm._s(item.good)+\"人好评\")]),_c('div',{staticClass:\"add\",on:{\"click\":function($event){return _vm.add(item.index, item.name)}}},[_vm._v(\"加入购物车\")])],1)}),0),_c('div',{staticClass:\"points\"},[_c('span',{class:{'cur': _vm.curIndex === 1},on:{\"click\":function($event){return _vm.switchImg('left')}}}),_c('span',{class:{'cur': _vm.curIndex === 2},on:{\"click\":function($event){return _vm.switchImg('right')}}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <div class=\"main_container\">\r\n      <h1>{{title}}</h1>\r\n    <ul :style=\"a\">\r\n      <li v-for=\"item in allData\" :key=\"item.index\">\r\n        <transition>\r\n          <div class=\"drop\" v-show=\"addSuccess && index == item.index\">\r\n            成功添加购物车\r\n          </div>\r\n        </transition>\r\n        <img :src=\"item.img\" />\r\n        <p class=\"product\">{{ item.name }}</p>\r\n        <p class=\"price\">{{ item.price }}</p>\r\n        <p class=\"recommend\">{{ item.good }}人好评</p>\r\n        <div class=\"add\" @click=\"add(item.index, item.name)\">加入购物车</div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"points\">\r\n      <span :class=\"{'cur': curIndex === 1}\" @click=\"switchImg('left')\"></span>\r\n      <span :class=\"{'cur': curIndex === 2}\" @click=\"switchImg('right')\"></span>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getLikeAPI, addProductAPI, getProductInfoAPI } from \"@/api\";\r\nexport default {\r\n  name: \"youLike\",\r\n  data() {\r\n    return {\r\n      allData: [],\r\n      addSuccess: false,\r\n      index: 0,\r\n      a:\"\",\r\n      curIndex:1\r\n    };\r\n  },\r\n  props:{\r\n    title:{\r\n      default : \"猜你喜欢\"\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取初始数据\r\n    async getinitdata() {\r\n      const { data } = await getLikeAPI();\r\n      this.allData = data.slice(0, 10);\r\n      let i = 0;\r\n      this.allData.forEach((v) => {\r\n        v.index = i++;\r\n      });\r\n    },\r\n    // 成功添加购物车提示动画\r\n    animation(index) {\r\n      this.index = index;\r\n      this.addSuccess = true;\r\n      setTimeout(() => {\r\n        this.addSuccess = false;\r\n      }, 1000);\r\n    },\r\n    // 添加到购物车方法\r\n    async add(index, name) {\r\n      // 通过商品名字在数据库中查询到该商品的详细数据\r\n      const { data } = await getProductInfoAPI(name);\r\n      // 默认选择商品的第一种配置,提取出有用信息\r\n      let { color, version, product } = data[0];\r\n      let configs = {\r\n        color: color[0].color,\r\n        img: color[0].img,\r\n        version: version[0].text,\r\n        price: version[0].price,\r\n        product: product,\r\n      };\r\n      // 将该信息添加到购物车的数据库当中\r\n      await addProductAPI(configs);\r\n      // 成功添加的动画\r\n      this.animation(index);\r\n    },\r\n    // 切换商品方法\r\n    switchImg(status){\r\n      if(status === 'right'){\r\n        if(this.curIndex === 2) return\r\n        this.a = \"transform: translateX(-1245px);\"\r\n        this.curIndex = 2\r\n      }else{\r\n        if(this.curIndex === 1) return\r\n        this.a = \"transform: translateX(0);\"\r\n        this.curIndex = 1\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getinitdata();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.main {\r\n  .main_container{\r\n  padding: 50px 0;\r\n  margin:0 auto;\r\n  width: 1226px;\r\n  overflow: hidden;\r\n  h1 {\r\n    overflow: hidden;\r\n    font-weight: 500;\r\n    color: rgb(117, 117, 117);\r\n    text-align: center;\r\n    position: relative;\r\n    &::before {\r\n      content: \"\";\r\n      width: 370px;\r\n      height: 1px;\r\n      background-color: rgba(176, 176, 176, 0.998);\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 0px;\r\n    }\r\n    &::after {\r\n      content: \"\";\r\n      width: 370px;\r\n      height: 1px;\r\n      background-color: rgba(176, 176, 176, 0.998);\r\n      position: absolute;\r\n      top: 50%;\r\n      right: 0px;\r\n    }\r\n  }\r\n  ul {\r\n    width: 3000px;\r\n    transition: 1s;\r\n    li {\r\n      display: inline-block;\r\n      text-align: center;\r\n      width: 234px;\r\n      height: 300px;\r\n      background-color: white;\r\n      position: relative;\r\n      overflow: hidden;\r\n      margin: 15px 15px 0 0;\r\n      .drop {\r\n        width: 100%;\r\n        height: 40px;\r\n        background-color: green;\r\n        position: absolute;\r\n        top: 0px;\r\n        left: 0;\r\n        text-align: center;\r\n        font-size: 13px;\r\n        color: white;\r\n        line-height: 40px;\r\n      }\r\n      .v-enter-active {\r\n        animation: drop 0.3s;\r\n      }\r\n      .v-leave-active {\r\n        animation: drop 0.3s reverse;\r\n      }\r\n      @keyframes drop {\r\n        0% {\r\n          top: -40px;\r\n        }\r\n        100% {\r\n          top: 0;\r\n        }\r\n      }\r\n      img {\r\n        width: 140px;\r\n        margin: 40px 47px 20px;\r\n      }\r\n      p {\r\n        font-size: 14px;\r\n        line-height: 25px;\r\n      }\r\n      .price {\r\n        color: #ff6700;\r\n      }\r\n      .recommend {\r\n        color: #838383;\r\n      }\r\n      .add {\r\n        width: 120px;\r\n        height: 30px;\r\n        text-align: center;\r\n        line-height: 28px;\r\n        font-size: 12px;\r\n        color: #ff6700;\r\n        border: 1px solid #ff6700;\r\n        position: absolute;\r\n        left: 50%;\r\n        transform: translate(-50%);\r\n        top: 305px;\r\n        transition: 0.3s;\r\n        background-color: white;\r\n        cursor: pointer;\r\n        &:hover {\r\n          background-color: #ff6700;\r\n          color: white;\r\n        }\r\n      }\r\n      &:hover {\r\n        .add {\r\n          top: 255px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .points {\r\n    text-align: center;\r\n    padding-top: 10px;\r\n    span {\r\n      display: inline-block;\r\n      width: 6px;\r\n      height: 6px;\r\n      cursor: pointer;\r\n      box-sizing: border-box;\r\n      background-color: #717171;\r\n      margin: 0 10px;\r\n      border-radius: 100px;\r\n      box-sizing: content-box;\r\n      border: 2px solid #f5f5f5;\r\n      transition: 0.5s;\r\n    }\r\n    .cur {\r\n      border: 2px solid #ff6700;\r\n      background: white;\r\n    }\r\n  }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8e434f3a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8e434f3a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e434f3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search_container\"},[_c('main',[_c('ul',{staticClass:\"main_container\"},_vm._l((_vm.fullData[_vm.curIndex - 1]),function(item,key){return _c('li',{key:key,staticClass:\"main_container_item\",attrs:{\"product\":\"item.product\"},on:{\"click\":function($event){return _vm.toBuy(item.product)}}},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"\",\"width\":\"200px\"}}),_c('p',{staticClass:\"info\"},[_c('font',[_vm._v(_vm._s(item.product))]),_vm._v(\"   \"),_c('font',[_vm._v(_vm._s(item.color))])],1),_c('p',{staticClass:\"price\"},[_c('font',{staticClass:\"cur_price\"},[_vm._v(_vm._s(item.price)+\"元\")]),(item.oldPrice)?_c('font',{staticClass:\"old_price\"},[_vm._v(_vm._s(item.oldPrice)+\"元\")]):_vm._e()],1),_c('ul',{staticClass:\"activity\"},[(item.ticket)?_c('li',{staticClass:\"red\"},[_vm._v(\"券\")]):_vm._e(),(item.increase)?_c('li',{staticClass:\"red\"},[_vm._v(\"加价购\")]):_vm._e(),(item.stages)?_c('li',{staticClass:\"blue\"},[_vm._v(\"分期\")]):_vm._e(),(item.gifts)?_c('li',{staticClass:\"red\"},[_vm._v(\"赠\")]):_vm._e(),(item.new)?_c('li',{staticClass:\"green\"},[_vm._v(\"新品\")]):_vm._e()])])}),0),_c('ul',{staticClass:\"pages\"},[_c('li',{on:{\"click\":function($event){return _vm.switchPage(true)}}},[_c('i',{staticClass:\"fa fa-chevron-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._l((_vm.pages),function(index){return _c('li',{key:index,class:{ cur: _vm.curIndex === index },on:{\"click\":function($event){return _vm.changePage(index)}}},[_vm._v(\" \"+_vm._s(index)+\" \")])}),_c('li',{on:{\"click\":function($event){return _vm.switchPage(false)}}},[_c('i',{staticClass:\"fa fa-chevron-right\",attrs:{\"aria-hidden\":\"true\"}})])],2)]),_c('footer',[_c('YouLike')],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\">\r\n    <div class=\"search_container\">\r\n      <main>\r\n        <ul class=\"main_container\">\r\n          <li\r\n            class=\"main_container_item\"\r\n            v-for=\"(item, key) in fullData[curIndex - 1]\"\r\n            product=\"item.product\"\r\n            :key=\"key\"\r\n            @click=\"toBuy(item.product)\"\r\n          >\r\n            <img :src=\"item.img\" alt=\"\" width=\"200px\" />\r\n            <p class=\"info\">\r\n              <font>{{ item.product }}</font>\r\n              &nbsp;\r\n              <font>{{ item.color }}</font>\r\n            </p>\r\n            <p class=\"price\">\r\n              <font class=\"cur_price\">{{ item.price }}元</font>\r\n              <font class=\"old_price\" v-if=\"item.oldPrice\"\r\n                >{{ item.oldPrice }}元</font\r\n              >\r\n            </p>\r\n            <ul class=\"activity\">\r\n              <li class=\"red\" v-if=\"item.ticket\">券</li>\r\n              <li class=\"red\" v-if=\"item.increase\">加价购</li>\r\n              <li class=\"blue\" v-if=\"item.stages\">分期</li>\r\n              <li class=\"red\" v-if=\"item.gifts\">赠</li>\r\n              <li class=\"green\" v-if=\"item.new\">新品</li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n        <ul class=\"pages\">\r\n          <li @click=\"switchPage(true)\">\r\n            <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n          </li>\r\n          <li\r\n            v-for=\"index in pages\"\r\n            :key=\"index\"\r\n            :class=\"{ cur: curIndex === index }\"\r\n            @click=\"changePage(index)\"\r\n          >\r\n            {{ index }}\r\n          </li>\r\n          <li @click=\"switchPage(false)\">\r\n            <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n          </li>\r\n        </ul>\r\n      </main>\r\n      <footer>\r\n        <YouLike></YouLike>\r\n      </footer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { searchProductAPI } from \"@/api\";\r\nimport YouLike from \"@/components/youLike/index.vue\";\r\nexport default {\r\n  name: \"search\",\r\n  components: { YouLike },\r\n  computed: {\r\n    // 搜索的关键字,用来向服务器查询指定类型的商品\r\n    keyWord() {\r\n      return this.$route.query.product;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      fullData: [], // 分页加工完后的数据\r\n      pages: [], // 分页栏\r\n      curIndex: 1, // 当前展示哪一页\r\n    };\r\n  },\r\n  methods: {\r\n    // 通过关键字发起请求,查询服务器所有类型的商品\r\n    async getinitData() {\r\n      const { data } = await searchProductAPI(this.keyWord);\r\n      let [allData] = data[0].products;\r\n      this.filterData(allData); //获取完初始数据后,加工数据\r\n      this.setPages(); // 加工完商品数据后,设置分页栏\r\n    },\r\n    // 加工初始数据方法\r\n    filterData(data) {\r\n      let count = Math.ceil(data.length / 8); // 一页八条数据,计算可以分几页\r\n      for (let i = 0; i < count; i++) {\r\n        this.fullData.push(data.slice(i * 8, (i + 1) * 8)); //一次截取八条数据组成一个数组,推入fullData中\r\n      }\r\n    },\r\n    // 准备分页栏方法\r\n    setPages() {\r\n      for (let i = 1; i <= this.fullData.length; i++) {\r\n        this.pages.push(i);\r\n      }\r\n    },\r\n    // 点击具体页数分页方法\r\n    changePage(index) {\r\n      this.curIndex = index; //切换分页\r\n      document.documentElement.scrollTop = 0; // 切换完后返回到顶部\r\n    },\r\n    // 点击加减分页方法\r\n    switchPage(status) {\r\n      if (status === true) {\r\n        // 上一页 \r\n        if (this.curIndex === 1) return;\r\n        this.curIndex--;\r\n      } else {\r\n        // 下一页\r\n        if(this.curIndex === this.pages.length) return\r\n        this.curIndex++;\r\n      }\r\n      document.documentElement.scrollTop = 0; // 切换完后返回到顶部\r\n    },\r\n    // 商品点击事件\r\n    toBuy(product){\r\n      this.$router.push({\r\n        path:\"/shop/buy\",\r\n        query:{\r\n          product:product\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    document.documentElement.scrollTop = 0\r\n    // 创建时获取所有数据\r\n    this.getinitData();\r\n  },\r\n  watch:{\r\n    // 监测关键字变化\r\n    keyWord(newvalue){\r\n      // 清空上个关键字的所有数据\r\n      this.fullData = []\r\n      this.pages = []\r\n      this.curIndex = 1\r\n      // 清空数据后重新获取当前关键字数据\r\n      this.getinitData()\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.search {\r\n  background-color: #f5f5f5;\r\n  .search_container {\r\n    width: 1226px;\r\n    margin: 0 auto;\r\n    main {\r\n      padding:20px 0 0 0;\r\n      .main_container {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        .main_container_item {\r\n          margin: 0 6px 6px 4px;\r\n          background-color: white;\r\n          width: 296px;\r\n          height: 383px;\r\n          box-sizing: content-box;\r\n          padding-top: 47px;\r\n          text-align: center;\r\n          font-size: 14px;\r\n          transition: 0.8s;\r\n          cursor: pointer;\r\n          &:hover {\r\n            box-shadow: 0 0 15px rgba(64, 64, 64, 0.402);\r\n            .info {\r\n              color: #ff6700;\r\n            }\r\n          }\r\n          img {\r\n            margin-bottom: 16px;\r\n          }\r\n          .info {\r\n            width: 230px;\r\n            margin: 0 auto;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n          }\r\n          .price {\r\n            margin-top: 15px;\r\n            .cur_price {\r\n              color: #ff6700;\r\n              margin-right: 3px;\r\n            }\r\n            .old_price {\r\n              color: #d8d8d8;\r\n              position: relative;\r\n              &::before {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 48%;\r\n                width: 100%;\r\n                height: 2px;\r\n                background: #d8d8d8;\r\n              }\r\n            }\r\n          }\r\n          .activity {\r\n            display: flex;\r\n            justify-content: center;\r\n            margin-top: 20px;\r\n            li {\r\n              color: white;\r\n              padding: 0 8px;\r\n              border-radius: 3px;\r\n              margin: 0 2px;\r\n            }\r\n            .red {\r\n              background-color: rgb(255, 53, 53);\r\n            }\r\n            .blue {\r\n              background-color: rgb(108, 108, 255);\r\n            }\r\n            .green {\r\n              background-color: rgb(89, 255, 89);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .pages {\r\n        padding: 30px 0;\r\n        display: flex;\r\n        justify-content: center;\r\n        li {\r\n          margin: 0 5px;\r\n          padding: 6px 20px;\r\n          cursor: pointer;\r\n          color: #c1c1c1;\r\n          transition: 0.2s;\r\n          &:hover {\r\n            background-color: #d8d8d8;\r\n            color: white;\r\n          }\r\n        }\r\n        .cur {\r\n          background-color: #717171;\r\n          color: white;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=573dae7b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=573dae7b&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"573dae7b\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\"\r\nconst baseURL = 'http://localhost:3000'\r\nconst myAxios = axios.create({\r\n    baseURL : baseURL\r\n})\r\nexport default myAxios","import axios from '../utils/request.js'\r\n\r\n// 获取头部导航栏分类信息\r\nexport const getHeaderNavAPI = () =>{\r\n    return axios.request({\r\n        url:'/header_nav'\r\n    })\r\n}\r\n// 获取轮播图图片\r\nexport const getShufflingImgAPI = () =>{\r\n    return axios.request({\r\n        url:'/shuffling_figure'\r\n    })\r\n}\r\n// 获取横向商品导航栏商品数据\r\nexport const getProductNavAPI = ()=>{\r\n    return axios.request({\r\n        url:'/product_nav'\r\n    })\r\n}\r\n// 获取竖向导航栏商品数据\r\nexport const getProductAsideNavAPI = ()=>{\r\n    return axios.request({\r\n        url:'/product_aside_nav'\r\n    })\r\n}\r\n// 获取搜索框关键词\r\nexport const getSearchKeywordsAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/search_keywords\"\r\n    })\r\n}\r\n// 获取网站频道导航数据\r\nexport const getWebChannelAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/web_channel\"\r\n    })\r\n}\r\n// 获取网站频道右侧商品宣传图片信息\r\nexport const getWebChannelPublicityAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/web_channel_publicity_imgs\"\r\n    })\r\n}\r\n// 获取 生活电器 组件数据\r\nexport const getDomesticApplianceAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/domestic_appliance\"\r\n    })\r\n}\r\n// 获取 手机 组件数据\r\nexport const getMobilePhoneAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/mobile_phone\"\r\n    })\r\n}\r\n// 获取 智能穿戴 组件数据\r\nexport const getTechnologyWearAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/technology_wear\"\r\n    })\r\n}\r\n// 获取 笔记本平板 组件数据\r\nexport const getComputerIpadAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/computer_ipad\"\r\n    })\r\n}\r\n// 获取 家电 组件数据\r\nexport const getHomeAppliancesAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/home_appliances\"\r\n    })\r\n}\r\n// 获取 厨房电器 组件数据\r\nexport const getKitchenAppliancesAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/kitchen_appliances\"\r\n    })\r\n}\r\n// 获取 智能家居 组件数据\r\nexport const getTechnologyHomeAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/technology_home\"\r\n    })\r\n}\r\n// 获取 运动出行 组件数据\r\nexport const getSportAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/sport\"\r\n    })\r\n}\r\n// 获取 日用百货 组件数据\r\nexport const getDailyNecessitiesAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/daily_necessities\"\r\n    })\r\n}\r\n// 获取 广告图片 组件数据\r\nexport const getPublicImgsAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/public_imgs\"\r\n    })\r\n}\r\n// 获取 视频封面 数据\r\nexport const getVideoCoverAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/video_cover\"\r\n    })\r\n}\r\n// 获取 售后 数据\r\nexport const getAfterSaleAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/after_sale\"\r\n    })\r\n}\r\n// 获取 详细服务 数据\r\nexport const getServiceAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/service\"\r\n    })\r\n}\r\n// 获取 客服信息 数据\r\nexport const getCallUsAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/call_us\"\r\n    })\r\n}\r\n// 获取 尾部导航 数据\r\nexport const getFooterNavAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/footer_nav\"\r\n    })\r\n}\r\n// 获取 尾部证书 数据\r\nexport const getFooterSitesAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/footer_sites\"\r\n    })\r\n}\r\n// 获取 尾部动态图\r\nexport const getFooterGifsAPI = ()=>{\r\n    return axios.request({\r\n        url:\"/footer_gifs\"\r\n    })\r\n}\r\n// 查询商品信息\r\nexport const getProductInfoAPI = (product)=>{\r\n    return axios.request({\r\n        url:\"/all_products?product=\" + product\r\n    })\r\n}\r\n// 查询某个人的账户信息\r\nexport const getAccountInfoAPI = (account)=>{\r\n    return axios.request({\r\n        url:\"/user_database\",\r\n        params:{account : account}\r\n    })\r\n}\r\n// 添加账户信息\r\nexport const addPersonAPI = ({id,account,password})=>{\r\n    return axios.request({\r\n        method:\"POST\",\r\n        url:'/user_database',\r\n        data:{\r\n            id:id,\r\n            account:account,\r\n            password:password\r\n        }\r\n    })\r\n}\r\n// 获取购物车中商品\r\nexport const getShopCarAPI = ()=>{\r\n    return axios.request({\r\n        url:\"shop_car\"\r\n    })\r\n}\r\n// 删除购物车中某件商品\r\nexport const deleteShopCarAPI = (id)=>{\r\n    return axios.request({\r\n        method:\"DELETE\",\r\n        url:\"shop_car/\"+id,\r\n    })\r\n}\r\n// 搜索购物车中特定的商品信息\r\nexport const searchShopCarAPI = ({product,disposition,version,color})=>{\r\n    return axios.request({\r\n        url:\"shop_car\",\r\n        params:{\r\n            product,\r\n            disposition,\r\n            version,\r\n            color\r\n        }\r\n    })\r\n}\r\n// 添加商品到购物车\r\nexport const addProductAPI = (data)=>{\r\n    return axios.request({\r\n        url:\"shop_car\",\r\n        method:\"POST\",\r\n        data:data\r\n    })\r\n}\r\n// 查询指定类型所有商品\r\nexport const searchProductAPI = (keyword)=>{\r\n    return axios.request({\r\n        url:\"search_database?type=\"+keyword\r\n    })\r\n}\r\n//获取个人中心导航栏数据\r\nexport const userCenterNavAPI = ()=>{\r\n    return axios.request({\r\n        url:\"userNav\"\r\n    })\r\n}\r\n// 获取以旧换新页面图片\r\nexport const changeNewsImgAPI = ()=>{\r\n    return axios.request({\r\n        url:\"changeNewImg\"\r\n    })\r\n}\r\n// 获取收货地址数据\r\nexport const getLocationAPI = ()=>{\r\n    return axios.request({\r\n        url:\"citys\"\r\n    })\r\n}\r\n// 添加收货地址到数据库\r\nexport const addLocationAPI = (data)=>{\r\n    return axios.request({\r\n        url:\"citys\",\r\n        method:\"POST\",\r\n        data:data\r\n    })\r\n}\r\n//修改收货地址到数据库\r\nexport const editLocationAPI = (id,data)=>{\r\n    return axios.request({\r\n        url:'citys/'+id,\r\n        method:\"PUT\",\r\n        data:data\r\n    })\r\n}\r\n// 获取猜你喜欢组件数据\r\nexport const getLikeAPI = ()=>{\r\n    return axios.request({\r\n        url:\"youLike\"\r\n    })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","title","style","a","_l","allData","item","key","index","directives","name","rawName","value","addSuccess","expression","attrs","img","price","good","on","$event","add","class","curIndex","switchImg","staticRenderFns","data","props","default","methods","v","animation","setTimeout","color","version","product","created","component","fullData","toBuy","oldPrice","_e","ticket","increase","stages","gifts","new","switchPage","pages","cur","changePage","components","YouLike","computed","keyWord","filterData","setPages","document","path","query","watch","baseURL","myAxios","axios","getHeaderNavAPI","url","getShufflingImgAPI","getProductNavAPI","getProductAsideNavAPI","getSearchKeywordsAPI","getWebChannelAPI","getWebChannelPublicityAPI","getDomesticApplianceAPI","getMobilePhoneAPI","getTechnologyWearAPI","getComputerIpadAPI","getHomeAppliancesAPI","getKitchenAppliancesAPI","getTechnologyHomeAPI","getSportAPI","getDailyNecessitiesAPI","getPublicImgsAPI","getVideoCoverAPI","getAfterSaleAPI","getServiceAPI","getCallUsAPI","getFooterNavAPI","getFooterSitesAPI","getFooterGifsAPI","getProductInfoAPI","getAccountInfoAPI","account","params","addPersonAPI","id","password","method","getShopCarAPI","deleteShopCarAPI","searchShopCarAPI","disposition","addProductAPI","searchProductAPI","keyword","userCenterNavAPI","changeNewsImgAPI","getLocationAPI","addLocationAPI","editLocationAPI","getLikeAPI"],"sourceRoot":""}